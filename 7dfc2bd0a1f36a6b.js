(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37899,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(32341),a=e.i(7471),l=e.i(82568);function i(){let{loading:e}=(0,r.useAuth)(),[i,n]=(0,s.useState)(!1),[o,d]=(0,s.useState)(""),[c,x]=(0,s.useState)(""),[m,u]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[g,b]=(0,s.useState)(!1),[f,w]=(0,s.useState)(!1),[v,j]=(0,s.useState)(!1),[N,y]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{let{data:{user:e}}=await a.supabase.auth.getUser();e&&!e.user_metadata?.business_name&&j(!0)})()},[]);let k=async()=>{try{let e="android"===l.Capacitor.getPlatform()?"com.facundo.turnos://login-callback":window.location.origin+"/auth/callback",{error:t}=await a.supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:e,queryParams:{access_type:"offline",prompt:"consent"}}});if(t)throw t}catch(e){h(e.message)}},C=async()=>{if(N.trim()){b(!0);try{let{error:e}=await a.supabase.auth.updateUser({data:{business_name:N.trim()}});if(e)throw e;j(!1),window.location.reload()}catch(e){h(e.message)}finally{b(!1)}}},S=async e=>{e.preventDefault(),h(""),b(!0);let t=o.trim().toLowerCase(),s=c.trim(),r=m.trim();if(!t||!s){h("Por favor completa todos los campos"),b(!1);return}let l=`${t}@gestionturnos.com`;try{if(i){if(!r){h("El nombre del emprendimiento es obligatorio"),b(!1);return}let{data:e,error:t}=await a.supabase.auth.signUp({email:l,password:s,options:{data:{business_name:r}}});if(t){if(t.message.includes("already registered")||t.message.includes("User already registered")){h("El usuario ya existe. Intenta iniciar sesión."),b(!1);return}throw t}if(e.user&&!e.session){h("Registro exitoso. Por favor revisa tu email para confirmar la cuenta."),b(!1);return}}else{let{error:e}=await a.supabase.auth.signInWithPassword({email:l,password:s});if(e)if(e.message.includes("Invalid login credentials")){let e=`${t}@example.com`,{error:r}=await a.supabase.auth.signInWithPassword({email:e,password:s});if(r)if(r.message.includes("Invalid login credentials"))h("Usuario o contraseña incorrectos.");else throw r}else throw e}}catch(e){h(e.message||"Ocurrió un error. Intenta nuevamente.")}finally{b(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-zinc-950 font-sans",children:[(0,t.jsxs)("div",{className:"w-full max-w-sm p-6",children:[(0,t.jsxs)("div",{className:"text-center mb-8 relative z-10",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-2 tracking-tight",style:{fontFamily:"'Outfit', sans-serif",color:"#ffffff",textShadow:"0 0 20px rgba(255, 255, 255, 0.3)"},children:i?"Crear Cuenta":"Bienvenido/a"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:i?"Configura tu espacio":"Ingresa a tu gestor de turnos"})]}),(0,t.jsxs)("form",{onSubmit:S,className:"space-y-6 relative z-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2 ml-1",children:"Usuario"}),(0,t.jsx)("input",{type:"text",value:o,onChange:e=>d(e.target.value),className:"w-full px-4 py-3 rounded-lg bg-zinc-900 border border-zinc-800 text-white placeholder-zinc-600 focus:outline-none focus:ring-2 focus:ring-white/20 focus:border-transparent transition-all",placeholder:"usuario"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2 ml-1",children:"Contraseña"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:f?"text":"password",value:c,onChange:e=>x(e.target.value),className:"w-full px-4 py-3 rounded-lg bg-zinc-900 border border-zinc-800 text-white placeholder-zinc-600 focus:outline-none focus:ring-2 focus:ring-white/20 focus:border-transparent transition-all",placeholder:"••••••••"}),(0,t.jsx)("button",{type:"button",onClick:()=>w(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:f?(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}):(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),i&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2 ml-1",children:"Nombre"}),(0,t.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),className:"w-full px-4 py-3 rounded-lg bg-zinc-900 border border-zinc-800 text-white placeholder-zinc-600 focus:outline-none focus:ring-2 focus:ring-white/20 focus:border-transparent transition-all",placeholder:"Ej: Test"})]}),p&&(0,t.jsx)("div",{className:"text-red-300 text-sm text-center bg-red-500/10 py-2 rounded-lg border border-red-500/20 backdrop-blur-sm",children:p}),(0,t.jsx)("button",{type:"submit",disabled:g,className:"w-full py-3 px-4 bg-white hover:bg-zinc-200 text-black font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Cargando...":i?"Registrarse":"Ingresar"}),(0,t.jsxs)("div",{className:"relative my-6",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-zinc-800"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,t.jsx)("span",{className:"px-2 bg-zinc-950 text-gray-400",children:"O continuar con"})})]}),(0,t.jsxs)("button",{type:"button",onClick:k,className:"w-full py-3 px-4 bg-zinc-900 hover:bg-zinc-800 border border-zinc-800 text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-3",children:[(0,t.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,t.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,t.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,t.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})]}),(0,t.jsx)("div",{className:"mt-8 text-center border-t border-white/5 pt-6 relative z-10",children:(0,t.jsx)("button",{onClick:()=>{n(!i),h("")},className:"text-sm text-gray-400 hover:text-white transition-colors font-medium",children:i?"¿Ya tienes cuenta? Inicia sesión":"¿No tienes cuenta? Regístrate aquí"})})]}),v&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-zinc-900 p-6 rounded-xl border border-zinc-800 w-full max-w-md",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Casi listo"}),(0,t.jsx)("p",{className:"text-gray-400 mb-6",children:"Para terminar, necesitamos el nombre de tu emprendimiento."}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre del emprendimiento"}),(0,t.jsx)("input",{type:"text",value:N,onChange:e=>y(e.target.value),className:"w-full px-4 py-3 rounded-lg bg-zinc-950 border border-zinc-800 text-white placeholder-zinc-600 focus:outline-none focus:ring-2 focus:ring-white/20 focus:border-transparent",placeholder:"Ej: Mi Estética"})]}),(0,t.jsx)("button",{onClick:C,disabled:!N.trim()||g,className:"w-full py-3 px-4 bg-white hover:bg-zinc-200 text-black font-medium rounded-lg transition-colors disabled:opacity-50",children:g?"Guardando...":"Comenzar"})]})]})})]})}e.s(["default",()=>i])},42631,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(32341),a=e.i(7471);function l(){let{user:e,loading:l}=(0,r.useAuth)(),[i,n]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0),[c,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[g,b]=(0,s.useState)(null),[f,w]=(0,s.useState)(null),v=(0,s.useRef)(null);(0,s.useEffect)(()=>{e&&j()},[e]),(0,s.useEffect)(()=>{let e=e=>{v.current&&!v.current.contains(e.target)&&w(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let j=async()=>{if(!e)return;d(!0);let{data:t,error:s}=await a.supabase.from("prices").select("*").eq("user_id",e.id).order("service_name",{ascending:!0});s?console.error("Error loading prices:",s):t&&n(t),d(!1)},N=async t=>{if(t.preventDefault(),e&&m&&p)if(g){let{error:e}=await a.supabase.from("prices").update({service_name:m.trim(),price:parseFloat(p)}).eq("id",g);e?(console.error("Error updating price:",e),alert("Error al actualizar el servicio")):(k(),j())}else{let{error:t}=await a.supabase.from("prices").insert({user_id:e.id,service_name:m.trim(),price:parseFloat(p)});t?(console.error("Error adding price:",t),alert("Error al agregar el servicio")):(k(),j())}},y=async e=>{if(!window.confirm("¿Estás seguro de eliminar este servicio?"))return;let{error:t}=await a.supabase.from("prices").delete().eq("id",e);t?(console.error("Error deleting price:",t),alert("Error al eliminar el servicio")):j(),w(null)},k=()=>{x(!1),u(""),h(""),b(null)};return l||!e?null:(0,t.jsxs)("div",{className:"space-y-6 pb-20",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Lista de Precios"}),(0,t.jsx)("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors font-bold shadow-lg shadow-purple-900/20",children:"+ Agregar Servicio"})]}),o?(0,t.jsx)("p",{className:"text-slate-400 text-center text-lg",children:"Cargando..."}):0===i.length?(0,t.jsx)("div",{className:"text-center py-12 glass-card rounded-xl",children:(0,t.jsx)("p",{className:"text-slate-300 text-lg",children:"No hay servicios en la lista"})}):(0,t.jsx)("div",{className:"glass-card rounded-xl overflow-visible border border-slate-700/50",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-slate-800/50 border-b border-slate-700",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-4 text-left text-base font-bold text-slate-200",children:"Servicio"}),(0,t.jsx)("th",{className:"px-4 py-4 text-right text-base font-bold text-slate-200",children:"Precio"}),(0,t.jsx)("th",{className:"px-2 py-4 w-10"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-700/50",children:i.map(e=>{let s;return(0,t.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors relative",children:[(0,t.jsx)("td",{className:"px-4 py-4 text-white font-medium text-lg",children:e.service_name}),(0,t.jsx)("td",{className:"px-4 py-4 text-right font-bold text-green-400 text-lg",children:(s=e.price,`$${s.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})}`)}),(0,t.jsxs)("td",{className:"px-2 py-4 text-center relative",children:[(0,t.jsx)("button",{onClick:t=>{var s;return s=e.id,void(t.stopPropagation(),w(f===s?null:s))},className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-full transition-colors",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})})}),f===e.id&&(0,t.jsxs)("div",{ref:v,className:"absolute right-8 top-8 z-50 w-36 bg-slate-800 border border-slate-600 rounded-xl shadow-xl overflow-hidden",children:[(0,t.jsxs)("button",{onClick:()=>{b(e.id),u(e.service_name),h(e.price.toString()),x(!0),w(null)},className:"w-full text-left px-4 py-3 text-sm text-slate-200 hover:bg-slate-700 hover:text-white flex items-center gap-2",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),"Editar"]}),(0,t.jsxs)("button",{onClick:()=>y(e.id),className:"w-full text-left px-4 py-3 text-sm text-red-400 hover:bg-red-900/20 hover:text-red-300 flex items-center gap-2 border-t border-slate-700",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),"Eliminar"]})]})]})]},e.id)})})]})}),c&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"glass-card bg-slate-900 border border-slate-700 rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white mb-6 text-center",children:g?"Editar Servicio":"Agregar Servicio"}),(0,t.jsxs)("form",{onSubmit:N,className:"space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-base font-semibold text-slate-300 mb-2",children:"Nombre del Servicio"}),(0,t.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-lg",placeholder:"Ej: Manicura",required:!0,autoFocus:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-base font-semibold text-slate-300 mb-2",children:"Precio"}),(0,t.jsx)("input",{type:"number",step:"0.01",value:p,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-lg font-bold",placeholder:"0.00",required:!0})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:k,className:"flex-1 px-4 py-3 border border-slate-600 text-slate-300 rounded-xl hover:bg-slate-800 transition-colors font-medium text-lg",children:"Cancelar"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 px-4 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl transition-colors font-bold text-lg shadow-lg shadow-purple-900/20",children:g?"Actualizar":"Agregar"})]})]})]})})]})}e.s(["default",()=>l])},86428,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(32341),a=e.i(7471);function l(){let{user:e,loading:l}=(0,r.useAuth)(),[i,n]=(0,s.useState)([]),[o,d]=(0,s.useState)([]),[c,x]=(0,s.useState)(0),[m,u]=(0,s.useState)(!0),[p,h]=(0,s.useState)(!1),[g,b]=(0,s.useState)(""),[f,w]=(0,s.useState)("");(0,s.useEffect)(()=>{e&&v()},[e]);let v=async()=>{if(!e)return;u(!0);let{data:t,error:s}=await a.supabase.from("turns").select("*").eq("user_id",e.id).eq("completed",!0).eq("paid",!0).order("date_time",{ascending:!1});s?console.error("Error loading turns:",s):t&&(d(t),x(t.reduce((e,t)=>e+(t.estimated_price||0),0)));let{data:r,error:l}=await a.supabase.from("expenses").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});l?console.error("Error loading expenses:",l):r&&n(r),u(!1)},j=e=>`$${e.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})}`,N=async t=>{if(t.preventDefault(),!e||!g||!f)return;let{error:s}=await a.supabase.from("expenses").insert({user_id:e.id,description:g.trim(),amount:parseFloat(f)});s?(console.error("Error adding expense:",s),alert("Error al agregar el gasto")):(C(),v())},y=async e=>{if(!window.confirm("¿Estás seguro de eliminar este gasto?"))return;let{error:t}=await a.supabase.from("expenses").delete().eq("id",e);t?(console.error("Error deleting expense:",t),alert("Error al eliminar el gasto")):v()},k=async e=>{if(!window.confirm("¿Estás seguro de eliminar este trabajo completado? Se eliminará permanentemente."))return;let{error:t}=await a.supabase.from("turns").delete().eq("id",e);t?(console.error("Error deleting turn:",t),alert("Error al eliminar el trabajo")):v()},C=()=>{h(!1),b(""),w("")},S=i.reduce((e,t)=>e+t.amount,0);return l||!e?null:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Ganancias y Gastos"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white shadow-lg",children:[(0,t.jsx)("h3",{className:"text-sm font-medium opacity-90 mb-2",children:"Ganancias Totales"}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:j(c)})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-lg p-6 text-white shadow-lg",children:[(0,t.jsx)("h3",{className:"text-sm font-medium opacity-90 mb-2",children:"Gastos Totales"}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:j(S)})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white shadow-lg",children:[(0,t.jsx)("h3",{className:"text-sm font-medium opacity-90 mb-2",children:"Caja"}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:j(c-S)})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Trabajos Completados"}),m?(0,t.jsx)("p",{className:"text-slate-400",children:"Cargando..."}):0===o.length?(0,t.jsx)("div",{className:"text-center py-12 glass-card",children:(0,t.jsx)("p",{className:"text-slate-400",children:"No hay trabajos completados"})}):(0,t.jsx)("div",{className:"glass-card max-h-96 overflow-y-auto overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full min-w-[500px]",children:[(0,t.jsx)("thead",{className:"bg-slate-800/50 border-b border-slate-700 sticky top-0",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-300",children:"Cliente"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-300",children:"Fecha"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-300",children:"Monto"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-300"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-700",children:o.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-700/30 transition-colors",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-slate-200 font-medium",children:e.client_name}),(0,t.jsx)("td",{className:"px-4 py-3 text-slate-400 text-sm",children:new Date(e.date_time).toLocaleDateString("es-AR")}),(0,t.jsx)("td",{className:"px-4 py-3 text-right font-medium text-green-400",children:j(e.estimated_price)}),(0,t.jsx)("td",{className:"px-4 py-3 text-right",children:(0,t.jsx)("button",{onClick:()=>k(e.id),className:"p-2 bg-red-500/20 hover:bg-red-500/40 text-red-400 rounded-lg transition-colors",title:"Eliminar",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})})]},e.id))})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Gastos"}),(0,t.jsx)("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors font-medium",children:"+ Agregar Gasto"})]}),m?(0,t.jsx)("p",{className:"text-slate-400",children:"Cargando..."}):0===i.length?(0,t.jsx)("div",{className:"text-center py-12 glass-card",children:(0,t.jsx)("p",{className:"text-slate-400",children:"No hay gastos registrados"})}):(0,t.jsx)("div",{className:"glass-card max-h-96 overflow-y-auto overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full min-w-[500px]",children:[(0,t.jsx)("thead",{className:"bg-slate-800/50 border-b border-slate-700 sticky top-0",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-300",children:"Descripción"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-slate-300",children:"Fecha"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-300",children:"Monto"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-300"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-700",children:i.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-700/30 transition-colors",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-slate-200",children:e.description}),(0,t.jsx)("td",{className:"px-4 py-3 text-slate-400 text-sm",children:new Date(e.created_at).toLocaleDateString("es-AR")}),(0,t.jsx)("td",{className:"px-4 py-3 text-right font-medium text-white",children:j(e.amount)}),(0,t.jsx)("td",{className:"px-4 py-3 text-right",children:(0,t.jsx)("button",{onClick:()=>y(e.id),className:"p-2 bg-red-500/20 hover:bg-red-500/40 text-red-400 rounded-lg transition-colors",title:"Eliminar",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})})]},e.id))})]})})]})]}),p&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Agregar Gasto"}),(0,t.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Descripción"}),(0,t.jsx)("input",{type:"text",value:g,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-white",placeholder:"Ej: Compra de materiales",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Monto"}),(0,t.jsx)("input",{type:"number",step:"0.01",min:"0",value:f,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-white",placeholder:"0.00",required:!0})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,t.jsx)("button",{type:"button",onClick:C,className:"flex-1 px-4 py-2 border border-slate-600 text-slate-300 rounded-lg hover:bg-slate-700 transition-colors",children:"Cancelar"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors font-bold",children:"Agregar"})]})]})]})})]})}e.s(["default",()=>l])},52683,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(32341),a=e.i(7471);function l({onAddTurn:e}){let{user:l}=(0,r.useAuth)(),[i,n]=(0,s.useState)(""),[o,d]=(0,s.useState)(""),[c,x]=(0,s.useState)([]),[m,u]=(0,s.useState)(""),[p,h]=(0,s.useState)(!1),[g,b]=(0,s.useState)(""),[f,w]=(0,s.useState)([]);(0,s.useEffect)(()=>{l&&(async()=>{let{data:e}=await a.supabase.from("prices").select("service_name, price").eq("user_id",l.id).order("service_name");e&&w(e)})()},[l]),(0,s.useEffect)(()=>{let e=c.reduce((e,t)=>e+t.price,0);e>0?b(e.toString()):0===c.length&&b("")},[c]);let v=e=>{x([...c,e])},j=()=>{m.trim()&&(v({name:m.trim(),price:0}),u(""),h(!1))};return(0,t.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!i||!o||!g)return;let s=new Date(o),r=c.length>0?c.map(e=>e.name).join(" + "):m;e({clientName:i,dateTime:s.toISOString(),task:r,estimatedPrice:parseFloat(g)}),n(""),d(""),x([]),u(""),b(""),h(!1)},className:"glass-card p-6 mb-8 w-full max-w-md mx-auto",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center text-white",children:"Nuevo Turno"}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("label",{htmlFor:"client",className:"block text-base font-semibold text-slate-200 mb-2",children:"Cliente *"}),(0,t.jsx)("input",{id:"client",type:"text",value:i,onChange:e=>n(e.target.value),required:!0,className:"input-field text-lg font-medium",placeholder:"Nombre del cliente"})]}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("label",{htmlFor:"date",className:"block text-base font-semibold text-slate-200 mb-2",children:"Fecha *"}),(0,t.jsx)("input",{id:"date",type:"date",value:o.split("T")[0]||"",onChange:e=>{let t=o.split("T")[1]||"00:00";d(`${e.target.value}T${t}`)},required:!0,className:"input-field text-lg font-medium"})]}),(0,t.jsxs)("div",{className:"mb-5 grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"hour",className:"block text-base font-semibold text-slate-200 mb-2",children:"Hora *"}),(0,t.jsxs)("select",{id:"hour",value:o.split("T")[1]?.split(":")[0]||"",onChange:e=>{let t=o.split("T")[0]||"",s=o.split("T")[1]?.split(":")[1]||"00";d(`${t}T${e.target.value}:${s}`)},required:!0,className:"input-field text-lg font-medium",children:[(0,t.jsx)("option",{value:"",children:"--"}),Array.from({length:24},(e,s)=>{let r=s.toString().padStart(2,"0");return(0,t.jsx)("option",{value:r,children:r},r)})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"minute",className:"block text-base font-semibold text-slate-200 mb-2",children:"Minutos *"}),(0,t.jsxs)("select",{id:"minute",value:o.split("T")[1]?.split(":")[1]||"",onChange:e=>{let t=o.split("T")[0]||"",s=o.split("T")[1]?.split(":")[0]||"00";d(`${t}T${s}:${e.target.value}`)},required:!0,className:"input-field text-lg font-medium",children:[(0,t.jsx)("option",{value:"",children:"--"}),["00","05","10","15","20","25","30","35","40","45","50","55"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]})]}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("label",{className:"block text-base font-semibold text-slate-200 mb-2",children:"Tareas"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:c.map((e,s)=>(0,t.jsxs)("div",{className:"bg-purple-900/50 border border-purple-500/50 text-purple-100 px-3 py-1 rounded-full flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium",children:e.name}),(0,t.jsx)("button",{type:"button",onClick:()=>{let e;(e=[...c]).splice(s,1),x(e)},className:"text-purple-300 hover:text-white",children:"✕"})]},s))}),p?(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),j())},className:"input-field text-lg font-medium",placeholder:"Escribir tarea...",autoFocus:!0}),(0,t.jsx)("button",{type:"button",onClick:j,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"OK"}),(0,t.jsx)("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-slate-300 hover:text-white bg-slate-700 rounded-lg transition-colors text-lg",children:"✕"})]}):(0,t.jsxs)("select",{onChange:e=>{let t=e.target.value;if(t){if("custom"===t)h(!0);else{let e=f.find(e=>e.service_name===t);e&&v({name:e.service_name,price:e.price})}e.target.value=""}},className:"input-field text-lg font-medium",defaultValue:"",children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"Agregar servicio..."}),f.map((e,s)=>(0,t.jsxs)("option",{value:e.service_name,children:[e.service_name," ($",e.price,")"]},s)),(0,t.jsx)("option",{value:"custom",className:"font-bold text-purple-400",children:"+ Otra tarea..."})]})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("label",{htmlFor:"price",className:"block text-base font-semibold text-slate-200 mb-2",children:"Precio Total Estimado *"}),(0,t.jsx)("input",{id:"price",type:"number",step:"0.01",min:"0",value:g,onChange:e=>b(e.target.value),required:!0,className:"input-field text-xl font-bold text-green-400",placeholder:"0.00"})]}),(0,t.jsxs)("button",{type:"submit",className:"btn-primary w-full flex justify-center items-center gap-2 text-lg py-3 font-bold",children:[(0,t.jsx)("span",{children:"Agendar Turno"}),(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})]})]})}function i({turns:e,onDelete:r,onStatusChange:a,onPaidChange:l,onUpdatePrice:i,onUpdateDeposit:n,onSetReminder:o,onReminderSent:d}){let[c,x]=(0,s.useState)(null),[m,u]=(0,s.useState)(""),[p,h]=(0,s.useState)(null),[g,b]=(0,s.useState)(""),[f,w]=(0,s.useState)(null),[v,j]=(0,s.useState)(""),[N,y]=(0,s.useState)(""),[k,C]=(0,s.useState)(null);(0,s.useEffect)(()=>{let t=setInterval(()=>{let t=new Date;e.forEach(e=>{if(e.reminderTime&&!e.reminderSent){let s=new Date(e.reminderTime);t>=s&&t.getTime()-s.getTime()<3e5&&(S(e),d&&d(e.id))}})},2e3);return()=>clearInterval(t)},[e,d]);let S=e=>{let t=new Date(e.dateTime),s=t.toLocaleDateString("es-AR",{day:"numeric",month:"numeric"}),r=t.toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit",hour12:!1}),a=`El turno es el ${s} a las ${r} hs.`;"serviceWorker"in navigator&&"Notification"in window?navigator.serviceWorker.ready.then(t=>{t.showNotification(`Recordatorio: ${e.clientName}`,{body:a,icon:"/icon.png",vibrate:[200,100,200],tag:"reminder-"+e.id,data:{url:`https://wa.me/?text=${encodeURIComponent(`Hola ${e.clientName}, te recuerdo tu turno...`)}`}})}):"Notification"in window&&"granted"===Notification.permission&&(new Notification(`Recordatorio: ${e.clientName}`,{body:a,icon:"/icon.png"}).onclick=()=>{window.focus(),L(e)}),C(e)},L=e=>{let t=new Date(e.dateTime).toLocaleDateString("es-AR",{weekday:"long",day:"numeric",month:"long"}),s=new Date(e.dateTime).toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit",hour12:!1}),r=`Hola ${e.clientName}! Te recuerdo que tienes un turno agendado para el ${t} a las ${s} hs. Por favor confirma asistencia. Gracias!`,a=`https://wa.me/?text=${encodeURIComponent(r)}`;window.open(a,"_blank"),C(null)},T=e=>`$${e.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})}`,E=()=>{x(null),u("")},z=e=>{h(e.id),b(e.deposit?.toString()||"")},M=()=>{h(null),b("")};if(0===e.length)return(0,t.jsx)("div",{className:"text-center text-slate-300 mt-8 p-6 glass-card text-lg",children:(0,t.jsx)("p",{children:"No hay turnos agendados."})});let A=[...e].sort((e,t)=>new Date(e.dateTime).getTime()-new Date(t.dateTime).getTime());return(0,t.jsxs)("div",{className:"w-full space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Próximos Turnos"}),k&&(0,t.jsx)("div",{className:"fixed top-4 left-4 right-4 z-[100] animate-bounce-in",children:(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-4 shadow-2xl border border-white/20 flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-white/20 p-2 rounded-full",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6 text-white",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-white text-lg",children:"¡Recordatorio de Turno!"}),(0,t.jsxs)("p",{className:"text-white/90 text-sm",children:["Es hora de avisarle a ",(0,t.jsx)("span",{className:"font-bold",children:k.clientName}),"."]})]})]}),(0,t.jsx)("button",{onClick:()=>C(null),className:"text-white/70 hover:text-white p-1",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("button",{onClick:()=>L(k),className:"w-full bg-white text-purple-600 font-bold py-3 rounded-xl hover:bg-slate-100 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,t.jsx)("path",{d:"M12.004 2C6.48 2 2 6.48 2 12.004c0 1.77.46 3.43 1.256 4.89L2 22l5.256-1.256A9.956 9.956 0 0012.004 22c5.524 0 10.004-4.48 10.004-10.004C22.008 6.48 17.528 2 12.004 2zm5.352 14.288c-.22.616-1.268 1.132-1.74 1.16-.472.028-1.084.14-3.792-.932-3.32-1.312-5.46-4.72-5.624-4.94-.164-.22-1.344-1.788-1.344-3.412 0-1.624.848-2.42 1.152-2.752.304-.332.66-.416.88-.416.22 0 .44.004.632.008.2.004.472-.076.74.568.28.672.944 2.304 1.024 2.472.08.168.136.364.028.58-.108.216-.164.352-.324.536-.16.184-.336.412-.48.556-.16.16-.328.336-.14.656.188.32.836 1.364 1.792 2.216 1.224 1.092 2.256 1.436 2.576 1.572.32.136.508.112.7-.108.192-.22.824-.956 1.044-1.284.22-.328.44-.276.74-.164.3.112 1.904.896 2.232 1.06.328.164.548.244.628.38.08.136.08.792-.14 1.408z"})}),"Abrir WhatsApp"]})]})}),A.map(e=>(0,t.jsxs)("div",{className:"glass-card p-5 relative overflow-hidden transition-all hover:shadow-lg border border-slate-600",children:[(0,t.jsx)("div",{className:`absolute left-0 top-0 bottom-0 w-2 ${!0===e.completed?"bg-green-500":!1===e.completed?"bg-red-500":"bg-blue-500"}`}),(0,t.jsxs)("div",{className:"pl-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-xl text-white mb-1",children:e.clientName}),(0,t.jsxs)("p",{className:"text-base text-slate-300 font-medium",children:[new Date(e.dateTime).toLocaleDateString("es-AR",{weekday:"long",day:"numeric",month:"long"})," - ",(0,t.jsxs)("span",{className:"text-white font-bold",children:[new Date(e.dateTime).toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit",hour12:!1})," hs"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[o&&!e.completed&&(0,t.jsx)("button",{onClick:()=>{let t,s,r,a;return w(e.id),(t=new Date(e.dateTime)).setHours(t.getHours()-1),j(new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().split("T")[0]),60==(s=5*Math.round(t.getMinutes()/5))&&(s=55),r=t.getHours().toString().padStart(2,"0"),a=s.toString().padStart(2,"0"),void y(`${r}:${a}`)},className:`p-2 rounded-full transition-colors ${e.reminderTime?"text-yellow-400 bg-yellow-900/20 hover:bg-yellow-900/40":"text-slate-400 hover:text-yellow-400 hover:bg-slate-700"}`,title:e.reminderTime?`Recordatorio: ${new Date(e.reminderTime).toLocaleString()}`:"Crear recordatorio",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:e.reminderTime?"currentColor":"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})})}),(0,t.jsx)("button",{onClick:()=>r(e.id),className:"text-red-400 hover:text-red-300 p-2 hover:bg-red-900/20 rounded-full transition-colors",title:"Cancelar turno",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]}),e.task&&(0,t.jsxs)("div",{className:"mb-4 bg-slate-800 p-3 rounded-xl text-base text-slate-200 border border-slate-700",children:[(0,t.jsx)("span",{className:"font-bold text-slate-400 mr-2",children:"Tarea:"})," ",e.task]}),(0,t.jsxs)("div",{className:"mb-4 bg-purple-900/30 p-3 rounded-xl text-base flex flex-col gap-2 border border-purple-500/30",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"font-bold text-purple-300",children:"Precio estimado:"}),c===e.id?(0,t.jsx)("input",{type:"number",value:m,onChange:e=>u(e.target.value),className:"w-40 px-3 py-1 text-base bg-slate-900 border border-purple-500 rounded text-white focus:outline-none focus:ring-2 focus:ring-purple-500 font-bold",autoFocus:!0}):(0,t.jsx)("span",{className:"text-white font-bold text-lg",children:void 0!==e.estimatedPrice?T(e.estimatedPrice):"-"})]}),i&&(0,t.jsx)("div",{children:c===e.id?(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void(i&&m&&(i(t,parseFloat(m)),x(null)))},className:"p-2 text-green-400 hover:bg-green-900/30 rounded-lg transition-colors",title:"Guardar",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}),(0,t.jsx)("button",{onClick:E,className:"p-2 text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",title:"Cancelar",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}):(0,t.jsx)("button",{onClick:()=>{x(e.id),u(e.estimatedPrice?.toString()||"")},className:"p-2 text-purple-300 hover:text-white hover:bg-purple-600/30 rounded-lg transition-colors",title:"Editar precio",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})})})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between border-t border-purple-500/20 pt-2 mt-1 gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"font-bold text-purple-300 text-sm",children:"Seña:"}),p===e.id?(0,t.jsx)("input",{type:"number",value:g,onChange:e=>b(e.target.value),className:"w-32 px-2 py-1 text-sm bg-slate-900 border border-purple-500 rounded text-white focus:outline-none focus:ring-2 focus:ring-purple-500 font-bold",autoFocus:!0,placeholder:"Monto"}):(0,t.jsx)("span",{className:"text-white font-medium",children:e.deposit?T(e.deposit):"$0.00"})]}),n&&(0,t.jsx)("div",{children:p===e.id?(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void(n&&g&&(n(t,parseFloat(g)),h(null)))},className:"p-1 text-green-400 hover:bg-green-900/30 rounded-lg transition-colors",title:"Guardar seña",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}),(0,t.jsx)("button",{onClick:M,className:"p-1 text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",title:"Cancelar",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}):e.deposit&&0!==e.deposit?(0,t.jsx)("button",{onClick:()=>z(e),className:"p-1 text-purple-300 hover:text-white hover:bg-purple-600/30 rounded-lg transition-colors",title:"Editar seña",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}):(0,t.jsx)("button",{onClick:()=>z(e),className:"px-3 py-1 text-xs font-bold bg-purple-600 text-white rounded-full hover:bg-purple-500 transition-colors shadow-lg shadow-purple-900/20",children:"¿Pagó seña?"})})]}),(e.estimatedPrice||0)>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between border-t border-purple-500/20 pt-2 mt-1",children:[(0,t.jsx)("span",{className:"font-bold text-slate-400 text-sm",children:"Falta pagar:"}),(0,t.jsx)("span",{className:`font-bold text-lg ${(e.estimatedPrice||0)-(e.deposit||0)<=0?"text-green-400":"text-red-400"}`,children:T(Math.max(0,(e.estimatedPrice||0)-(e.deposit||0)))})]})]}),(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-600",children:[(0,t.jsx)("p",{className:"text-base text-slate-300 mb-3 font-bold",children:"¿Se cumplió el turno?"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>a(e.id,!0),className:`flex-1 py-2 px-4 rounded-xl text-base font-bold transition-all ${!0===e.completed?"bg-green-600 text-white shadow-lg shadow-green-900/20":"bg-slate-700 text-slate-300 hover:bg-green-600/20 hover:text-green-400"}`,children:"Sí"}),(0,t.jsx)("button",{onClick:()=>a(e.id,!1),className:`flex-1 py-2 px-4 rounded-xl text-base font-bold transition-all ${!1===e.completed?"bg-red-600 text-white shadow-lg shadow-red-900/20":"bg-slate-700 text-slate-300 hover:bg-red-600/20 hover:text-red-400"}`,children:"No"})]})]}),!0===e.completed&&l&&(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-600",children:(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-2 hover:bg-slate-800/50 rounded-lg transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.paid||!1,onChange:t=>l(e.id,t.target.checked),className:"w-6 h-6 text-green-500 rounded focus:ring-green-500 bg-slate-800 border-slate-500"}),(0,t.jsx)("span",{className:"text-lg font-bold text-green-400",children:"Pagado"})]})})]})]},e.id)),f&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"bg-slate-800 rounded-2xl p-6 w-full max-w-sm border border-slate-700 shadow-2xl",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Programar Recordatorio"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6 text-sm",children:"Elige cuándo quieres recibir la notificación para avisarle al cliente."}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Fecha"}),(0,t.jsx)("input",{type:"date",value:v,onChange:e=>j(e.target.value),className:"w-full bg-slate-900 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-purple-500 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Hora (24hs)"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("select",{value:N.split(":")[0]||"00",onChange:e=>{let t=N.split(":")[1]||"00";y(`${e.target.value}:${t}`)},className:"flex-1 bg-slate-900 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-purple-500 outline-none appearance-none text-center font-bold text-lg",children:Array.from({length:24},(e,t)=>t.toString().padStart(2,"0")).map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("span",{className:"text-2xl text-slate-500",children:":"}),(0,t.jsx)("select",{value:N.split(":")[1]||"00",onChange:e=>{let t=N.split(":")[0]||"00";y(`${t}:${e.target.value}`)},className:"flex-1 bg-slate-900 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-purple-500 outline-none appearance-none text-center font-bold text-lg",children:Array.from({length:12},(e,t)=>(5*t).toString().padStart(2,"0")).map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,t.jsx)("div",{className:"flex flex-col gap-3",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>w(null),className:"flex-1 py-2 px-4 rounded-lg bg-slate-700 text-white hover:bg-slate-600 transition-colors",children:"Cancelar"}),(0,t.jsx)("button",{onClick:()=>{f&&o&&(o(f,new Date(`${v}T${N}`).toISOString()),w(null),"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission())},className:"flex-1 py-2 px-4 rounded-lg bg-purple-600 text-white hover:bg-purple-500 transition-colors font-bold",children:"Guardar"})]})})]})})]})}var n=e.i(37899),o=e.i(42631),d=e.i(86428);function c(){let[e,r]=(0,s.useState)(null),[a,l]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=e=>{e.preventDefault(),r(e),l(!0)};return window.addEventListener("beforeinstallprompt",e),()=>{window.removeEventListener("beforeinstallprompt",e)}},[]);let i=async()=>{if(!e)return;e.prompt();let{outcome:t}=await e.userChoice;console.log(`User response to the install prompt: ${t}`),r(null),l(!1)};return a?(0,t.jsxs)("button",{onClick:i,className:"bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg font-bold shadow-lg flex items-center gap-2 animate-pulse",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M12 12.75l-3-3m0 0l3-3m-3 3h7.5"})}),"Instalar App"]}):null}function x(){let{user:e,logout:x,loading:m}=(0,r.useAuth)(),[u,p]=(0,s.useState)([]),[h,g]=(0,s.useState)(!1),[b,f]=(0,s.useState)(!0),[w,v]=(0,s.useState)("turnos"),[j,N]=(0,s.useState)(!1),y=e=>{v(e),N(!1)};(0,s.useEffect)(()=>{g(!0)},[]),(0,s.useEffect)(()=>{h&&e&&(async()=>{f(!0);let{data:t,error:s}=await a.supabase.from("turns").select("*").eq("user_id",e.id).order("date_time",{ascending:!0});s?console.error("Error loading turns:",s):t&&p(t.map(e=>({id:e.id,userId:e.user_id,clientName:e.client_name,dateTime:e.date_time,task:e.task,completed:e.completed,estimatedPrice:e.estimated_price,deposit:e.deposit,paid:e.paid,reminderTime:e.reminder_time,reminderSent:e.reminder_sent}))),f(!1)})()},[h,e]);let k=async t=>{if(!e)return;let s=new Date(t.dateTime);if(u.some(e=>!e.completed&&new Date(e.dateTime).getTime()===s.getTime()))return void alert("Ya existe un turno agendado para esa fecha y hora exacta.");let{data:r,error:l}=await a.supabase.from("turns").insert({user_id:e.id,client_name:t.clientName,date_time:t.dateTime,task:t.task,estimated_price:t.estimatedPrice,completed:!1}).select().single();l?(console.error("Error adding turn:",l),alert("Error al agregar el turno")):r&&p([...u,{id:r.id,userId:r.user_id,clientName:r.client_name,dateTime:r.date_time,task:r.task,completed:r.completed,estimatedPrice:r.estimated_price,deposit:0,reminderTime:null,reminderSent:!1}])},C=async e=>{let{error:t}=await a.supabase.from("turns").delete().eq("id",e);t?(console.error("Error deleting turn:",t),alert("Error al eliminar el turno")):p(u.filter(t=>t.id!==e))},S=async(e,t)=>{let{error:s}=await a.supabase.from("turns").update({completed:t}).eq("id",e);s?(console.error("Error updating turn:",s),alert("Error al actualizar el turno")):p(u.map(s=>s.id===e?{...s,completed:t}:s))},L=async(e,t)=>{let{error:s}=await a.supabase.from("turns").update({paid:t}).eq("id",e);s?(console.error("Error updating paid status:",s),alert("Error al actualizar el estado de pago")):p(u.map(s=>s.id===e?{...s,paid:t}:s))},T=async(e,t)=>{let{error:s}=await a.supabase.from("turns").update({estimated_price:t}).eq("id",e);s?(console.error("Error updating price:",s),alert("Error al actualizar el precio")):p(u.map(s=>s.id===e?{...s,estimatedPrice:t}:s))},E=async(e,t)=>{let{error:s}=await a.supabase.from("turns").update({deposit:t}).eq("id",e);s?(console.error("Error updating deposit:",s),alert("Error al actualizar la seña")):p(u.map(s=>s.id===e?{...s,deposit:t}:s))},z=async(e,t)=>{let{error:s}=await a.supabase.from("turns").update({reminder_time:t,reminder_sent:!1}).eq("id",e);s?(console.error("Error updating reminder:",s),alert("Error al guardar el recordatorio")):p(u.map(s=>s.id===e?{...s,reminderTime:t,reminderSent:!1}:s))},M=async e=>{p(u.map(t=>t.id===e?{...t,reminderSent:!0}:t));let{error:t}=await a.supabase.from("turns").update({reminder_sent:!0}).eq("id",e);t&&console.error("Error marking reminder as sent:",t)};return!h||m?null:e?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-950 to-slate-900 text-slate-100",children:(0,t.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-md rounded-2xl shadow-xl p-8 mb-8 border border-slate-700",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",style:{fontFamily:"'Outfit', sans-serif"},children:e.businessName}),(0,t.jsxs)("p",{className:"text-xs text-slate-400 mt-1 uppercase tracking-widest font-medium",children:["Hola ",e.username]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:["facundo"===e.username&&(0,t.jsx)("a",{href:"/admin",className:"text-purple-400 hover:text-purple-300 font-bold text-sm mr-2 border border-purple-500/30 px-3 py-1 rounded-lg hover:bg-purple-500/10 transition-colors",children:"ADMIN"}),(0,t.jsx)(c,{}),(0,t.jsx)("button",{onClick:x,className:"text-slate-400 hover:text-red-400 transition-colors p-2 rounded-full hover:bg-red-500/10",title:"Cerrar Sesión",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})})})]})]}),(0,t.jsxs)("div",{className:"relative mb-6 z-20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl border border-slate-700",children:[(0,t.jsxs)("span",{className:"text-lg font-medium text-purple-400",children:["turnos"===w&&"Agendar Turno","proximos"===w&&"Próximos Turnos","precios"===w&&"Lista de Precios","ganancias"===w&&"Ganancias y Gastos"]}),(0,t.jsx)("button",{onClick:()=>N(!j),className:"p-2 text-slate-400 hover:text-white transition-colors rounded-lg hover:bg-slate-800",children:j?(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})})]}),j&&(0,t.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-slate-900 rounded-xl border border-slate-700 shadow-xl overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:[(0,t.jsxs)("button",{onClick:()=>y("turnos"),className:`w-full text-left px-6 py-4 transition-colors flex items-center justify-between ${"turnos"===w?"bg-purple-500/10 text-purple-400":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:[(0,t.jsx)("span",{children:"Agendar Turno"}),"turnos"===w&&(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})})]}),(0,t.jsx)("div",{className:"h-px bg-slate-800 mx-4"}),(0,t.jsxs)("button",{onClick:()=>y("proximos"),className:`w-full text-left px-6 py-4 transition-colors flex items-center justify-between ${"proximos"===w?"bg-purple-500/10 text-purple-400":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:[(0,t.jsx)("span",{children:"Próximos Turnos"}),"proximos"===w&&(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})})]}),(0,t.jsx)("div",{className:"h-px bg-slate-800 mx-4"}),(0,t.jsxs)("button",{onClick:()=>y("precios"),className:`w-full text-left px-6 py-4 transition-colors flex items-center justify-between ${"precios"===w?"bg-purple-500/10 text-purple-400":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:[(0,t.jsx)("span",{children:"Lista de Precios"}),"precios"===w&&(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})})]}),(0,t.jsx)("div",{className:"h-px bg-slate-800 mx-4"}),(0,t.jsxs)("button",{onClick:()=>y("ganancias"),className:`w-full text-left px-6 py-4 transition-colors flex items-center justify-between ${"ganancias"===w?"bg-purple-500/10 text-purple-400":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:[(0,t.jsx)("span",{children:"Ganancias y Gastos"}),"ganancias"===w&&(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})})]})]})]}),"turnos"===w?(0,t.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,t.jsx)(l,{onAddTurn:k})}):"proximos"===w?(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Próximos Turnos"}),b?(0,t.jsx)("p",{className:"text-slate-400 text-center",children:"Cargando turnos..."}):(0,t.jsx)(i,{turns:u.filter(e=>!0!==e.completed||!0!==e.paid),onDelete:C,onStatusChange:S,onPaidChange:L,onUpdatePrice:T,onUpdateDeposit:E,onSetReminder:z,onReminderSent:M})]}):"precios"===w?(0,t.jsx)(o.default,{}):(0,t.jsx)(d.default,{})]})})}):(0,t.jsx)(n.default,{})}e.s(["default",()=>x],52683)}]);